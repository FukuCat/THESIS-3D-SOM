%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%   Filename    : chapter_1.tex 
%
%   Description : This file will contain your Research Description.
%                 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Research Description}
\label{sec:researchdesc}    %--note: labels help you with hyperlink editing (using your IDE)

\section{Overview of the Current State of Technology}
\label{sec:overview}
	Music has been a part of people's culture for hundreds of years, classical music being one of the oldest genres of music. Classical music is rooted in the traditions of early western music and to this day, many people refer to classical music as serious music. Musicians, however, use classical music to refer to music composed during 1750 to 1825, otherwise known as the Classical Era (Bernstein, 1959). The central norms of classical music became established between 1550 and 1900, which is known as the common-practice period. The common-practice period contains the majority of what we now know as classical music. Under this period there are 3 musical eras: Baroque, Classical and Romantic. Music from the Baroque period are decorated and elaborate, with little to no expression. Works from the Classical era contain repetitive dynamics and clean transitions. In contrast to music from the Baroque period, music from the Romantic period are expressive and emotive, having the ability to paint a vivid picture in the minds of the listeners (Grout \& Palisca, 1996); however, Dahlhaus (1981) points out that another musical era existed between the Classical and the Romantic period and he refers to this as the 19th century era. This era serves as the transition period for classical and the romantic period, thus having similarities in style with both eras. After the common-practice period comes the 20th century era, which explores modernism, impressionism, neoclassicism and experimental music. 

	It was in the common-practice era when symphonies began to be composed. Libin (2014) describes symphonies as lengthy forms of musical compositions which are almost always written for orchestras and are consisting of several large movements. They are composed of three to five movements, depending on the time period and are constructed by many different composers (Libin, 2014). There are five major musical periods namely the Baroque Period, Classical Period, 19th Century, Romantic Period, and the 20th Century. Musical pieces from each era share certain characteristics and styles that are representative of the era. With a history of almost 300 years, symphonies today are viewed as the very pinnacle of classical music where Beethoven, Brahms, Mozart and other renowned composers were able to find a venue for transcending their creativities and overall influencing them heavily on their music. During the course of the 18th century, the tradition was  to write four-movement symphonies (Hepokoski \& Darcy, 2006). 

	Throughout time, different styles have developed, each having features unique to themselves. Tilden (2013) notes the historical influence of composers with each other and how similar the methods of composing classical music are with pop music.  As a result, symphonies written in the early 20th century may be influenced by the great composers and compositions of the previous eras. Analyzing these musical relationships and comparing one to another is a research area that could be done through both manual and machine learning methods.

	McFee, Barrington \& Lanckriet (2012) compare the use of context-based manual semantic annotation versus their proposed optimized content-based similarity learning framework. With machine learning, the use of high-quality training data without active user participation and the analysis of more data is possible than with feedback or survey data from active user participation. Human error in the analysis process can also be minimized with machine learning since human-supervised training is minimal. CorrÃªa \& Rodrigues (2016) shows the analysis of music features using machine learning techniques. According to the MIR community (Silla \& Freitas, 2009), the two main representation of music feature content are either audio-recorded or symbolic-based. The former employs the explicit recording of audio files while the latter uses symbolic data files such as MIDI or KERN.

	SOMphony, a research paper by Azcarraga \& Flores (2016), aims to understand the relationship of compositions between the same composer to denote style as well as to determine the similarities between compositions of different periods of music to denote influence between time periods. The research showed the relationships and influences between composers from 5 major musical periods, namely the Baroque Period, Classical Period, 19th Century music, Romantic Period and the 20th century. The research focuses on self-organizing maps (SOM) that are trained using 1-second music segments extracted from the 45 different symphonies. The trained SOM is then further processed by doing a k-means clustering of the node vectors, allowing quantitative comparison music trajectories between symphonies. Their research showed that using SOM is indeed helpful in visualizing the musical features of a symphony, making it easier to create insights about the relationships within the different pieces and composers. The research concludes that a larger dataset would be needed to confirm whether the approach is indeed valid. 

	SOMphony, however, does not take into consideration the notion of time. In time series data, each instance represents a different time step and the attributes give values associated with that time (Witten  \& Frank, 2005).  To be able to generate time sensitive musical analysis, this research will add in the time dimension variable to the SOM and a new visualization in 3D space would need to be created.

	In another research work by Maaten \& Hinton (2008), they introduce a new visualization technique for assigning data points in a two dimensional or three dimensional map called  t-Distributed Stochastic Neighbor Embedding or t-SNE, which is a variant of Stochastic Neighbor Embedding or SNE. Since t-SNE produces almost very distinct visualizations as will be discussed in more detail in Chapter 2 and Chapter 3 based on the experiment performed by their research work, this technique for visualizing individual symphonies may be more optimal than SOM in terms of both accuracy and efficiency.


\section{Research Objectives}
\label{sec:researchobjectives}
\subsection{General Objective}
\label{sec:generalobjective}
To visualize symphonies using time dimension
\subsection{Specific Objectives}
\label{sec:specificobjectives}
The research aims to:
\begin{enumerate}
\item Perform feature selection to decrease number of features for faster training time in machine learning;
\item Find time-dependent distance measures to compare trajectories;
\item Create a 3D visualization model for the music data;
\item Determine feasibility of t-SNE as another form of visualization for comparison of symphonies;
\end{enumerate}
\section{Scope and Limitations of the Research}
\label{sec:scopelimitations}
To expand the data set of SOMphony, the proponents will add an additional 2 symphonies to the existing 3 symphonies for each of the 15 total composers from the previous work and add in 2 additional composers for each era with the same number of compositions for each one. This will result to a total of 125 symphonies in total. By having an equal number of symphonies per composer, a balanced data set for all composers can be maintained. The criteria for choosing the symphonies to be added would be random due to the availability of musical pieces and  this would also provide a better grasp on the general style of the composer.

To be able to generate a self-organizing map, the proponents will use jAudio to extract 436 audio features from musical segments generated from the symphony (See Appendix C). The 436 audio features would be trimmed down through feature selection. Decision Trees will be used to trim excess features and retain only the most relevant ones in order to speed up SOM training without losing too much accuracy (Yang \& Pedersen, 1997). The proponents will experiment on different numbers of of features (n) to be used. By selecting only the n most influential features, the time it would take to train the SOM would not be as time consuming compared to using all 436 features, however, this will be at the cost of some of its accuracy in plotting the symphony's musical trajectory.

In incorporating the time dimension, the musical piece is divided into 1 second segments in order to be uniform all throughout the piece and to avoid incomplete notes. A 0.5 second overlap is used to be able to consider transitions between each second. 

To create a 3D model to represent the symphony, the proponents will assign each generated SOM to a point in time and will be used to create a graph representing each map in a time dimension. As a result of using time dimension, this research will be able to better differentiate symphonies that use similar themes but at different periods of time in the composition.

Similar to SOMphony, the proponents will  focus on representation of symphonies using SOMs for the purpose of comparison to other symphonies. T-SNE will also be used as a visualization technique for the musical features of each symphony. The results from t-SNE will then be used to validate if t-SNE is an optimal visualization tool for visualizing symphonies.

\section{Significance of the Research}
\label{sec:significance}
As this study focuses on comparing different symphonies and analyzing to see how similar they are, the results of this study will help in the simplification of features from a one to two hour long music into a single visual representation.  The study can help in the comparison of music using time series and some quantitative data. It can prove that visualization can be achieved, allowing comparison of data along the time dimension. The results of the study may also help prove the benefits and possibilities of SOM when transitioning from 2D to 3D using time. The results may also verify if t-SNE is a good visualization technique for comparison of musical data.

Some possible future application of the results of this study would include the improvement of existing music information retrieval (MIR) techniques used by music databases. Similarly, this research can also be used to further improve the algorithms used by playlist managers for the retrieval of similar songs from music databases using the comparison of the trained SOMs.

The application of time series in machine learning would benefit studies outside of music that incorporates the use of time sensitive data. It can be used in future works regarding traffic modelling, weather monitoring, prediction, and other time sensitive fields.

\section{Research Methodology}
\label{sec:researchmethod}
This section contains phases and activities that will be performed to accomplish the research. The phases listed here will be arranged sequentially unless otherwise stated.

\subsection{Concept Formulation and Review of Related Literature}
This phase will concern the consolidation of the thesis requirements such as the objective of the research, the research problem to be tackled, and the scopes and limitations of such research. Research related to music comparison, machine learning algorithms in music and music visualization will be part of the Review of Related Literature.

\subsection{Data Gathering}
This phase will concern the  gathering of the additional symphonies to be used for the research. The original music dataset for SOMphony is composed of 75 symphonies spread across 5 periods, each having 3 composers. To expand the dataset, 2 symphonies will be added to each composer, summing up to a total of five symphonies per composer and 2 composers will also be added with the same number of symphonies for each era summing to a total of 125 symphonies. The proponents have decided to maintain 5 symphonies per composer so that the data set will be balanced. The process of selecting which symphonies to be added would be by random to have a better grasp of the general style of the composer. The audio files would be retrieved from online sources and physical means. The researchers  would not take into consideration the file type and bitrate of the audio files since music data that is free for use is limited. 

\subsection{Pre-processing}
To start pre-processing,  the audio files would be converted into wav files in preparation for splitting. WaveSplitter will be used in splitting the audio file into 1 second segments at intervals of 0.5 second. These segments would undergo feature extraction using jAudio. The result would be an xml file containing all the features determined for each segment. The researchers would then run RegEx to extract the unnecessary text in preparation for labeling. Since the proponents would have supervised learning, the data needs to be labelled according to their composer, composition and file name.

\subsection{Feature Selection}
In this phase, the proponents will trim down the 436 features that jAudio has extracted. With decision trees, the top n nodes will be selected as the top n features. Aside from decision trees, the proponents will explore other statistical techniques such as PCA or Pearson correlation for feature selection which may prove more efficient or optimal than decision trees. By doing feature selection, the data set would have a uniform number of features for all symphonies and it would also enhance the efficiency of training the SOM.

\subsection{Visualization}
The proponents will assign each BMU to a point on the generated SOM and this will be used to create a graph representing each map in a time series. As a result of using time dimension,  the proponents will be able to better differentiate symphonies that use similar themes but at different periods of time in the composition. T-SNE will also be used as a secondary visualization technique for visualizing the symphonies to see if this technique will also provide good visualization for symphonies like with SOM.

\subsection{Performance Evaluation}
Frequency cluster counting will be mainly used for quantitative measurements to determine if a pair of symphonies are alike; however, other pattern matching algorithms will also be explored as means of comparison. The resulting visualization from SOM and t-SNE will then be used to verify both methods' accuracy by comparing for example if two symphonies by composer A have a much similar visualization. If the resulting visualizations show that the compositions by the same composer are alike, then it may be able to prove the accuracy of the visualization technique used.

\subsection{Documentation}
This phase will be done all throughout the whole research timeframe. The previously mentioned stages and their corresponding findings would also be documented duly.

\section{Calendar of Activities}
Table 1.1 shows the time table for the activities involved with the research for 2017 and Table 1.2 shows the activities for 2018. The numbers represent the number of weeks worth of activity. The \# symbol represents the number of weeks allotted for the month.

\begin{center}
\begin{tabular}{ |p{3.7cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}| }
 \hline
 \multicolumn{8}{|c|}{Calendar of Activities} \\
 \hline
 Activities for 2017& Jun&Jul&Aug&Sep&Oct&Nov&Dec\\
 \hline
Concept Formulation and RRL&\#\#\#& \#\#\#\#&\#&&&&
 \\
\hline
Data Gathering&&&\#&\#\#\#&\#\#&&
 \\
\hline
Pre-processing&&&&\#\#&\#\#&\#\#\#\#&\#\#
 \\
 \hline
Feature Selecion&&&&&&&
 \\
 \hline
Visualization Development&&&&\#\#&\#\#&\#\#&\#
 \\
 \hline
Performance Evaluation&&&&&&&
 \\
 \hline
Documentation&\#\#&\#\#\#& \#\#&\#\#\#&\#\#\#\#&\#\#\#\#&\#\#
 \\
 \hline
\end{tabular}
\end{center}
Table 1.1 Timetable of Activities for 2017

\begin{center}
\begin{tabular}{ |p{3.7cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}|p{1.2cm}| }
 \hline
 \multicolumn{8}{|c|}{Calendar of Activities} \\
 \hline
 Activities for 2018& Jan&Feb&Mar&Apr&May&Jun&Jul\\
 \hline
Concept Formulation and RRL&&&&&&&
 \\
\hline
Data Gathering&&&&&&&
 \\
\hline
Pre-processing&&&&&&&    
 \\
 \hline
Feature Selecion&\#\#\#&\#\#\#\#&&&&&    
 \\
 \hline
Visualization Development&&&\#\#\#\#&\#\#\#\#& \#\#\#\#&& 
 \\
 \hline
Performance Evaluation&&&&&\#\#\#\#&\#\#\#\#&
 \\
 \hline
Documentation&\#\#\#&\#\#\#\#&\#\#\#\#&\#\#\#\#&\#\#\#\#&\#\#\#\#&\#\#
 \\
 \hline
\end{tabular}
\end{center}
Table 1.2 Timetable of Activities for 2018